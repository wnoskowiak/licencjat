import matplotlib.pyplot as plt 
import pandas as pd
import numpy as np
from scipy.optimize import curve_fit

def fun(x,a,b,c):
    return a-b*np.exp(-c*x)

x= np.array([1,2,3,4,5,6])+2

a=(-1)*np.array([-2.9046180283366874342772871589607034646609697,-2.9047907797178111156347887707030534584414219,-2.904802099111584746479907191899975664817804,-2.904804034740347644629310423062176219791962,-2.904804321786120064443101173647383515795508,-2.904804403746601638216378470189238226080685])
b=(-1)*np.array([-2.955545894160410310942636476677216835066886684,-2.956732959095066041033606546616105428431603287,-2.956801720671936223039109607233034719212920829,-2.95681374571607961247904620220638007502431413,-2.95681508063268503313350525508379636594739917,-2.95681545042497945056464270965714351633568734])
c=(-1)*np.array([-2.9169307605384995155462356526961,-2.918388747014599572571321084994,-2.91855000094784353316030414296,-2.91858876188255510001150990808,-2.91859281311665221787010945752,-2.91859400761368567485762528757])
d=(-1)*np.array([-2.9070323810314700838929366591077,-2.9074864897839655888205341222,-2.90758561664984151247346,-2.9076316259904111120547976,-2.9076372611555014174930038,-2.9076393951174483683236231])
e=(-1)*np.array([-2.904872895478448641310050701222333,-2.905006273607222765217501871904,-2.9050325920594965564811688,-2.9050549513909292742166949,-2.9050590954580352157783,-2.90506133624244046765096])
f=(-1)*np.array([-2.904204251712752166618176917501544,-2.90429498180512461757536103269262,-2.904305095043974267819345213281,-2.904311121650559654407841675,2.904312708270602797521377,-2.9043140594258011521193])
g=(-1)*np.array([-2.903936616637857493249369298594372,-2.904018022350315114840047799454770,-2.9040260440080788620414427525593,-2.904029541526263997358342460128,-2.90403010818279688181050860107,-2.9040305339402968634874])
h=(-1)*np.array([-2.903811270073424309727552980648020,-2.903889202920359391860962314084529,-2.9038967035856347707523328315091,-2.9038997751478129841996131582746,-2.903900225094811259066786251980,-2.9039004686415630459604555554639574275322714605149672719785652291])

for i in [a,b,c,d,e,f,g]:
    print(len(i))

plt.plot(x,a,'d')
params,cov = curve_fit(fun,x,a,sigma=(1/x))
print(params,cov)
x1 = np.arange(x[0],x[-1]+.5,0.1)
y1 = fun(x1,*params)
# print(curve_fit(fun,x,b,p0=[2.9844977 , 9.56009635]))
plt.plot(x1,y1)
plt.show()